{% extends "base.html" %}
{% block start %}

<h2>My Recipes</h2>
<a href="{% url 'recipe_add' %}" class="btn btn-success mb-3"><i class="bi bi-plus-circle"></i>Add Recipe</a>
{% for recipe in recipes %}
<div class="card mb-3">
    {% if recipe.image %}
    <img src="{{recipe.image.url}}" class="card-img-top" style="max-height:300px; object-fit:cover;" alt="{{recipe.title}}">
    {% endif %}
    <div class="card-body">
        <h5 class="card-title">{{recipe.title}}</h5>
        <p><strong>Ingredients: </strong>{{recipe.ingredients}}</p>
        <p><strong>Instructions : </strong>{{recipe.instructions}}</p>
        <a href="{% url 'recipe_edit' recipe.pk %}" class="btn btn-sm btn-primary"><i class="bi bi-pencil"></i>Update</a>
        <a href="{% url 'recipe_delete' recipe.pk %}" class="btn btn-sm btn-danger"><i class="bi bi-trash"></i>Delete</a>
        <form action="{% url 'toggle_favorite' recipe.pk %}" method="post" style="display:inline;">
            {% csrf_token %}
            {% if user in recipe.favorites.all %}
            <button type="submit" class="btn btn-primary">Unfavorite</button>
            {% else %}
            <button type="submit" class="btn btn-outline-warning btn-sm">Favorite</button>
            {% endif %}
        </form>    
    </div>
</div>
<!-- {% empty %}
<p>You haven't added any recipes </p> -->
{% endfor %}











{% endblock %}